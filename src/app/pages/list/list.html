<div class="min-h-screen bg-slate-900 px-4 py-8 text-slate-100">
  <div class="mx-auto max-w-3xl">
    <app-list-header [title]="title" [sharing]="sharing()" (share)="share()" />

    <app-gifts-list
      [gifts]="gifts()"
      [fillMode]="fillMode()"
      [isUpdating]="isUpdatingFn"
      [editingId]="editingGiftId()"
      [deletingId]="deletingGiftId()"
      [editTitleControl]="editTitle"
      [editUrlControl]="editUrl"
      [editSubmitting]="editSubmitting()"
      [editTitleInvalid]="editTitleInvalid()"
      [editError]="editError()"
      (toggleFillMode)="toggleFillMode()"
      (toggleBought)="toggleBought($event)"
      (startEdit)="startEditGift($event)"
      (cancelEdit)="cancelEdit()"
      (submitEdit)="submitEdit()"
      (startDelete)="startDeleteGift($event)"
      (cancelDelete)="cancelDeleteGift()"
      (confirmDelete)="confirmDeleteGift()"
      (reorderMove)="onReorderMove($event)"
    />

    <app-add-gift-form
      [titleControl]="giftTitle"
      [urlControl]="giftUrl"
      [submitting]="submitting()"
      [titleInvalid]="giftTitleInvalid()"
      [error]="addError()"
      (addGift)="addGift()"
    />
  </div>

  <app-share-toast [message]="shareInfo()" [visible]="toastVisible()" />

  <app-confirm-modal
    [open]="confirmFillOpen()"
    [title]="'Activer le mode remplissage'"
    [message]="'Activer le mode remplissage va afficher quels cadeaux sont déjà achetés.\n\nSi cette liste est destinée pour toi, tu risques d\'être spoilé(e).\n\nVeux-tu vraiment activer le mode remplissage ?'"
    [confirmLabel]="'Activer'"
    [cancelLabel]="'Annuler'"
    (confirm)="confirmEnableFillMode()"
    (cancel)="cancelEnableFillMode()"
    (close)="cancelEnableFillMode()"
  />

</div>
